/*! Ocky - v0.0.3 - 2014-01-17
* Copyright (c) 2014 Andrew Cobby <andrew.cobby@gmail.com>; Licensed MIT */
(function(t){"use strict";var e=function(t,e,i){if(!t.match(/^[a-zA-Z0-9]+$/)&&!i)throw Error("Cannot create a sub-module without a parent module");this.moduleName=t,this.subModules={},this.parent=i,this.moduleClass=this.constructor,this.initialize(t,e,i),e&&_.isFunction(e)&&this.addDefinition(e)};_.extend(e.prototype,{initialize:function(){},_processName:function(t){return t.split(".")},module:function(t,e){var i,n=this._processName(t),o=this,s=_.rest(arguments,2);return n.length>1?(_.each(n,function(t){o=o.module(t)},this),i=o):1===n.length&&(_.has(this.subModules,t)||(this[t]=this.subModules[t]=this.createSubmodule(t)),i=this.subModules[t]),e&&_.isFunction(e)&&i.addDefinition(e,s),i},createSubmodule:function(t,e){var i=this.moduleClass;return new i(t,e,this)},addDefinition:function(t,e){var i=[this].concat(e);t.apply(this,i)}}),e.extend=function(t,e){var i,n=this;i=t&&_.has(t,"constructor")?t.constructor:function(){return n.apply(this,arguments)},_.extend(i,n,e);var o=function(){this.constructor=i};return o.prototype=n.prototype,i.prototype=new o,t&&_.extend(i.prototype,t),i.__super__=n.prototype,i},t.Ocky=e})(window);