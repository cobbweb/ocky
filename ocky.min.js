/*! ocky - v0.1.0 - 2014-01-23
* Copyright (c) 2014 Andrew Cobby <andrew.cobby@gmail.com>; Licensed MIT */
(function(t){"use strict";var e=function(t,e,i){if(!i&&(t=t||"root",!t.match(/^[a-zA-Z0-9]+$/)))throw Error("Cannot create a sub-module without a parent module");this.moduleName=t,this.subModules={},this.parent=i,this.moduleClass=this.moduleClass||this.constructor,this.initialize(t,e,i),e&&_.isFunction(e)&&this.addDefinition(e)};_.extend(e.prototype,{initialize:function(){},_processName:function(t){return t.split(".")},module:function(t,e){var i,o=this._processName(t),n=this,s=_.rest(arguments,2);return o.length>1?(_.each(o,function(t){n=n.module(t)},this),i=n):1===o.length&&(_.has(this.subModules,t)||(this[t]=this.subModules[t]=this.createSubmodule(t)),i=this.subModules[t]),e&&_.isFunction(e)&&i.addDefinition(e,s),i},createSubmodule:function(t,e){var i=this.moduleClass;return new i(t,e,this)},addDefinition:function(t,e){var i=[this].concat(e);t.apply(this,i)}}),e.extend=function(t,e){var i,o=this;i=t&&_.has(t,"constructor")?t.constructor:function(){return o.apply(this,arguments)},_.extend(i,o,e);var n=function(){this.constructor=i};return n.prototype=o.prototype,i.prototype=new n,t&&_.extend(i.prototype,t),i.__super__=o.prototype,i},t.Ocky=e})(window);